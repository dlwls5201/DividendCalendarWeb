(this["webpackJsonpdividend-calendar"]=this["webpackJsonpdividend-calendar"]||[]).push([[0],{64:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var n=c(10),r=c.n(n),a=c(48),s=c.n(a),l=c(11),i=c(34),j=c(15),o=c(27),d=c(42),b=c(43),u=c.p+"static/media/icon_app.63b0a04b.png",O=c(5),h=function(e){var t=e.userObj,c=new o.a,n=Object(o.b)();return Object(O.jsxs)("div",{className:"bg-blue-200",style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(O.jsx)("p",{className:"mt-10 text-2xl font-bold",children:"Dividend Calendar Admin"}),t?Object(O.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(O.jsx)("img",{className:"mt-4 rounded-full",src:t.photoURL,width:"150px",height:"150px"}),Object(O.jsx)("h1",{className:"mt-4 text-xl",children:t.email}),Object(O.jsx)("h1",{className:"mt-2 text-base text-red-600",children:"\uc778\uc99d\ub418\uc9c0 \uc54a\uc740 \ud68c\uc6d0\uc785\ub2c8\ub2e4."}),Object(O.jsxs)("button",{className:"hover:bg-red-800 bg-red-200 w-96 h-10 mt-20 text-black rounded-full text-xs border-2 border-black",name:"google",onClick:function(){var e=Object(o.b)();Object(o.e)(e).then((function(){console.log("logout success")})).catch((function(e){console.log(e)}))},children:["Google Logout ",Object(O.jsx)(d.a,{icon:b.a})]})]}):Object(O.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(O.jsx)("img",{className:"mt-4 rounded-full",src:u,width:"150px",height:"150px"}),Object(O.jsx)("h1",{className:"mt-4 text-xl",children:"\uad6c\uae00 \ub85c\uadf8\uc778 \uc778\uc99d"}),Object(O.jsx)("h1",{className:"mt-2 text-base text-gray-600",children:"\uc778\uc99d\ub41c \ud68c\uc6d0\ub9cc \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4."}),Object(O.jsxs)("button",{className:"hover:bg-gray-200 bg-white w-96 h-10 mt-20 text-black rounded-full text-xs border-2 border-black",name:"google",onClick:function(){Object(o.d)(n,c).then((function(e){o.a.credentialFromResult(e)})).catch((function(e){o.a.credentialFromError(e)}))},children:["Google Login ",Object(O.jsx)(d.a,{icon:b.a})]})]})]})},x=c(0),m=c.n(x),f=c(28),g=c(1),p=c(16),v=c(49),y=(Object(v.a)({apiKey:"AIzaSyA_XNl_KFcYO2m8p17dCBTlq-VAX3zq8yk",authDomain:"dividend-calendar-a93c1.firebaseapp.com",databaseURL:"https://dividend-calendar-a93c1.firebaseio.com",projectId:"dividend-calendar-a93c1",storageBucket:"dividend-calendar-a93c1.appspot.com",messagingSenderId:"698693036884",appId:"1:698693036884:web:dd32f2e88dff99fa0c36c1"}),Object(p.c)()),N={ASC:"\uc624\ub984\ucc28\uc21c",DESC:"\ub0b4\ub9bc\ucc28\uc21c"},S=function(e){var t=e.userList,c=new Date("2021.10.01").getTime(),n=new Date("2021.11.01").getTime(),r=new Date("2021.12.01").getTime(),a=new Date("2022.01.01").getTime(),s=new Date("2022.02.01").getTime(),l=new Date("2022.03.01").getTime(),i=new Date("2022.04.01").getTime(),j=new Date("2022.05.01").getTime();return Object(O.jsxs)("div",{className:"py-2 mt-2 bg-gray-200",style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)("p",{className:"font-bold",children:"UserAnalysis"}),Object(O.jsx)("p",{className:"mt-4",children:"\ucd1d \uac00\uc785 \uc720\uc800 \uc218 : "+t.length}),Object(O.jsx)("p",{className:"mt-4 font-bold",children:" 2021 \uc2e0\uaddc \uac00\uc785 \uc720\uc800"}),Object(O.jsxs)("p",{className:"mt-1",children:["10\uc6d4 : "+t.filter((function(e){return e.created_at>=c&&e.created_at<n})).length," "]}),Object(O.jsxs)("p",{className:"mt-1",children:["11\uc6d4 : "+t.filter((function(e){return e.created_at>=n&&e.created_at<r})).length," "]}),Object(O.jsxs)("p",{className:"mt-1",children:["12\uc6d4 : "+t.filter((function(e){return e.created_at>=r&&e.created_at<a})).length," "]}),Object(O.jsx)("p",{className:"mt-4 font-bold",children:" 2022 \uc2e0\uaddc \uac00\uc785 \uc720\uc800 "}),Object(O.jsxs)("p",{className:"mt-1",children:["01\uc6d4 : "+t.filter((function(e){return e.created_at>=a&&e.created_at<s})).length," "]}),Object(O.jsxs)("p",{className:"mt-1",children:["02\uc6d4 : "+t.filter((function(e){return e.created_at>=s&&e.created_at<l})).length," "]}),Object(O.jsxs)("p",{className:"mt-1",children:["03\uc6d4 : "+t.filter((function(e){return e.created_at>=l&&e.created_at<i})).length," "]}),Object(O.jsxs)("p",{className:"mt-1",children:["04\uc6d4 : "+t.filter((function(e){return e.created_at>=i&&e.created_at<j})).length," "]})]})},k=c.p+"static/media/icon_user_gray.10b519b5.svg",w=function(e){var t=e.index,c=e.user,r=Object(j.f)(),a=Object(n.useState)(),s=Object(l.a)(a,2),i=s[0],o=s[1],d=new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"});Object(n.useEffect)((function(){c.profile_url?o(c.profile_url):o(k)}),[]);return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"bg-gray-200",style:{textAlign:"center"},children:t}),Object(O.jsx)("td",{style:{textAlign:"center",cursor:"pointer"},onClick:function(){r.push({pathname:"/user/detail",state:c})},children:Object(O.jsx)("img",{src:i,width:"50px",height:"50px"})}),Object(O.jsx)("td",{children:c.name}),Object(O.jsx)("td",{children:c.email}),Object(O.jsx)("td",{style:{textAlign:"center"},children:d.format(c.created_at)})]})},C=function(){var e=Object(j.f)(),t=Object(n.useState)([]),c=Object(l.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(N.DESC),i=Object(l.a)(s,2),o=i[0],d=i[1];Object(n.useEffect)(Object(g.a)(m.a.mark((function e(){var t,c,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.a)(y,"users"),c=Object(p.e)(t,Object(p.d)("created_at","desc")),e.next=4,Object(p.b)(c);case 4:n=e.sent,r=n.docs.map((function(e){return Object(f.a)({id:e.id},e.data())})),a(r);case 7:case"end":return e.stop()}}),e)}))),[]);var b=function(){d(N.DESC);var e=r.sort((function(e,t){return t.created_at-e.created_at}));a(e)},u=function(){d(N.ASC);var e=r.sort((function(e,t){return e.created_at-t.created_at}));a(e)};return Object(O.jsxs)("div",{style:{background:"rgb(255,255,255)"},className:"px-5 py-5 w-full h-full text-lg",children:[Object(O.jsx)("div",{className:"text-3xl",children:"Dividend Calendar History"}),Object(O.jsx)("div",{className:"hover:bg-gray-200 mt-8 px-4 py-2 rounded-lg border-solid border-2 border-black",style:{display:"inline-block",cursor:"pointer"},onClick:function(){e.push("/stock/ranking")},children:"Stock Ranking \ud83d\udc51"}),Object(O.jsx)(S,{userList:r}),Object(O.jsx)("h1",{className:"mt-4 text-gray-600",children:"Profile \ud0ed\uc744 \ub204\ub974\uba74 User \uc0c1\uc138\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."}),Object(O.jsxs)("table",{className:"table-fixed w-full border-collapse border border-black mt-2",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"bg-blue-200",children:[Object(O.jsx)("th",{style:{width:50},children:"No"}),Object(O.jsx)("th",{children:"Profile"}),Object(O.jsx)("th",{children:"Name"}),Object(O.jsx)("th",{children:"Email"}),Object(O.jsx)("th",{style:{cursor:"pointer"},onClick:function(){o===N.ASC?b():u()},children:"CreatedAt "+(o===N.ASC?"\u2193":"\u2191")})]})}),Object(O.jsx)("tbody",{children:r.map((function(e,t){return Object(O.jsx)(w,{index:t,user:e})}))})]})]})},_="DIVIDEND_GOAL",D="STOCK_SYNC",E="USER_LOGIN",T="USER_LOGOUT",A=[{name:_,value:"\ubaa9\ud45c \ubc30\ub2f9\uae08 \uc124\uc815"},{name:D,value:"\uc8fc\uc2dd \ub3d9\uae30\ud654"},{name:"STOCK_ADD",value:"\uc8fc\uc2dd \ucd94\uac00"},{name:"STOCK_MODIFY",value:"\uc8fc\uc2dd \uc218\uc815"},{name:"STOCK_DELETE",value:"\uc8fc\uc2dd \uc0ad\uc81c"},{name:"QUOTE_SEE",value:"\uc8fc\uc2dd \uc2dc\uc138 \ubcf4\uae30"},{name:"GUIDE_SEE",value:"\uac00\uc774\ub4dc \ubcf4\uae30 \ud074\ub9ad"},{name:"NOTICE_SEE",value:"\uacf5\uc9c0\uc0ac\ud56d \ubcf4\uae30 \ud074\ub9ad"},{name:E,value:"\ub85c\uadf8\uc778"},{name:T,value:"\ub85c\uadf8\uc544\uc6c3"}],I=function(){var e=new Map;return A.forEach((function(t){e.set(t.name,t.value)})),e}(),U=function(e){var t=e.history,c=new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return Object(O.jsxs)("tr",{className:function(){switch(t.type){case E:return"bg-green-200";case T:return"bg-red-200";case D:return"bg-yellow-200";case _:return"bg-blue-200";default:return""}}(),children:[Object(O.jsx)("td",{children:I.get(t.type)}),Object(O.jsx)("td",{children:t.ticker}),Object(O.jsx)("td",{children:t.count}),Object(O.jsx)("td",{children:t.goal}),Object(O.jsx)("td",{children:c.format(t.created_at)})]})},L=function(e){var t=e.stock;return Object(O.jsxs)("tr",{className:"bg-white h-14",children:[Object(O.jsx)("td",{children:Object(O.jsx)("img",{src:t.logoUrl,width:"50px",height:"50px"})}),Object(O.jsx)("td",{children:t.companyName}),Object(O.jsx)("td",{children:t.symbol}),Object(O.jsx)("td",{children:t.count})]})},F=function(e){var t=e.userId,c=Object(n.useState)([]),r=Object(l.a)(c,2),a=r[0],s=r[1];return Object(n.useEffect)(Object(g.a)(m.a.mark((function e(){var c,n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(p.a)(y,"stocks"),n=Object(p.e)(c,Object(p.f)("userId","==",t)),e.next=4,Object(p.b)(n);case 4:r=e.sent,a=r.docs.map((function(e){return Object(f.a)({id:e.id},e.data())})),s(a);case 7:case"end":return e.stop()}}),e)}))),[]),Object(O.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)("p",{className:"mt-8 text-2xl font-bold",children:"Stock Analysis"}),Object(O.jsx)("p",{className:"mt-2",children:"total stock cnt : "+a.length}),Object(O.jsxs)("table",{id:"stockTable",className:"table-auto w-full border-collapse border border-black mt-8",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"bg-blue-200",children:[Object(O.jsx)("th",{children:"Logo"}),Object(O.jsx)("th",{children:"CompanyName"}),Object(O.jsx)("th",{children:"Ticker"}),Object(O.jsx)("th",{children:"Count"})]})}),Object(O.jsx)("tbody",{children:a.map((function(e){return Object(O.jsx)(L,{stock:e})}))})]})]})},R=function(){var e=Object(j.g)(),t=e.state.uid,c=e.state.name,r=Object(n.useState)([]),a=Object(l.a)(r,2),s=a[0],i=a[1];Object(n.useEffect)(Object(g.a)(m.a.mark((function e(){var c,n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(p.a)(y,"history"),n=Object(p.e)(c,Object(p.f)("userId","==",t)),e.next=4,Object(p.b)(n);case 4:r=e.sent,a=r.docs.map((function(e){return Object(f.a)({id:e.id},e.data())})),o(a);case 7:case"end":return e.stop()}}),e)}))),[]);var o=function(e){var t=e.sort((function(e,t){return t.created_at-e.created_at}));i(t)};return Object(O.jsxs)("div",{className:"px-5 py-5 text-lg",style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)("div",{className:"text-3xl font-bold",children:c}),Object(O.jsx)(F,{userId:t}),Object(O.jsx)("div",{className:"mt-8 font-bold text-2xl",children:"History"}),Object(O.jsxs)("table",{id:"historyTable",className:"table-fixed w-full border-collapse border border-black mt-8",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"bg-blue-200",children:[Object(O.jsx)("th",{children:Object(O.jsxs)("select",{style:{backgroundColor:"transparent"},onChange:function(e){!function(e){for(var t=document.getElementById("historyTable").getElementsByTagName("tr"),c=0;c<t.length;c++){var n=t[c].getElementsByTagName("td")[0];if(n)(n.textContent||n.innerText).indexOf(e)>-1?t[c].style.display="":t[c].style.display="none"}}(e.target.value)},children:[Object(O.jsx)("option",{value:"",selected:"selected",children:"Type"}),A.map((function(e){return Object(O.jsx)("option",{value:e.value,children:e.value})}))]})}),Object(O.jsx)("th",{children:"Ticker"}),Object(O.jsx)("th",{children:"Count"}),Object(O.jsx)("th",{children:"Goal"}),Object(O.jsx)("th",{children:"CreatedAt"})]})}),Object(O.jsx)("tbody",{children:s.map((function(e){return Object(O.jsx)(U,{history:e})}))})]})]})},K=function(e){var t=e.ranking;return Object(O.jsxs)("tr",{className:"bg-white h-14",children:[Object(O.jsx)("td",{children:Object(O.jsx)("img",{src:t.logoUrl,width:"50px",height:"50px"})}),Object(O.jsx)("td",{children:t.companyName}),Object(O.jsx)("td",{children:t.symbol}),Object(O.jsx)("td",{children:t.count}),Object(O.jsx)("td",{children:t.userNumber})]})},G=function(e){return"dlwls5201@gmail.com"===e||("baedanggum@gmail.com"===e||"key940752@gmail.com"===e)},B=function(e){var t=e.userObj,c=Object(n.useState)([]),r=Object(l.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(N.ASC),j=Object(l.a)(i,2),o=j[0],d=j[1],b=Object(n.useState)(N.ASC),u=Object(l.a)(b,2),h=u[0],x=u[1],v=Object(n.useState)(""),S=Object(l.a)(v,2),k=S[0],w=S[1],C=Object(n.useState)(""),_=Object(l.a)(C,2),D=_[0],E=_[1],T=Object(n.useState)(!1),A=Object(l.a)(T,2),I=A[0],U=A[1],L=Object(n.useState)(0),F=Object(l.a)(L,2),R=F[0],B=F[1],J=Object(n.useState)(0),z=Object(l.a)(J,2),M=z[0],P=z[1];Object(n.useEffect)((function(){if(G(t.email)){U(!1);var e=Date.now(),c=localStorage.getItem("stocks"),n=localStorage.getItem("stocks_time");if(e-JSON.parse(n)<864e5&&null!=c){var r=JSON.parse(c);q(r),E("[Cache]")}else E(""),Y().then((function(e){return console.log(e)}))}else U(!0)}),[]);var Y=function(){var e=Object(g.a)(m.a.mark((function e(){var t,c,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)(Object(p.a)(y,"stocks"));case 2:t=e.sent,c=t.docs.map((function(e){return Object(f.a)({id:e.id},e.data())})),q(c),localStorage.setItem("stocks",JSON.stringify(c)),n=Date.now(),localStorage.setItem("stocks_time",JSON.stringify(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e){var t=0,c=new Map;e.forEach((function(e){var n=c.get(e.symbol);n?(n.count+=parseFloat(e.count),n.userNumber+=1):n={symbol:e.symbol,count:parseFloat(e.count),userNumber:1,companyName:e.companyName,logoUrl:e.logoUrl},c.set(e.symbol,n),t+=parseFloat(e.count)}));var n=[];c.forEach((function(e,t){return n.push(e)})),B(c.size),P(t),s(n)};return I?Object(O.jsx)("div",{children:"\uc798\ubabb\ub41c \uacbd\ub85c \uc785\ub2c8\ub2e4."}):Object(O.jsxs)("div",{className:"px-4 py-4",style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)("p",{className:"mt-8 text-2xl font-bold",children:"Stock Ranking \ud83d\udc51 "+D}),Object(O.jsxs)("p",{className:"mt-8 text-gray-600",children:["\ub4f1\ub85d\ub41c \ucd1d \uc8fc\uc2dd \uc885\ub958 : ",Object(O.jsx)("b",{children:R}),Object(O.jsx)("br",{}),"\ub4f1\ub85d\ub41c \ucd1d \uc8fc\uc2dd \uac2f\uc218 : ",Object(O.jsx)("b",{children:M}),Object(O.jsx)("br",{}),"[\ud14c\uc774\ube14 \uc124\uba85] ",Object(O.jsx)("br",{}),"\ubaa8\ub4e0 \uc720\uc800\uc758 \uc8fc\uc2dd \ucd1d \uac2f\uc218 : ",Object(O.jsx)("b",{children:"Count"})," ",Object(O.jsx)("br",{}),"\ud574\ub2f9 \uc8fc\uc2dd\uc744 \ucd94\uac00\ud55c \ubaa8\ub4e0 \uc720\uc800\ub4e4\uc758 \uc218 : ",Object(O.jsx)("b",{children:"UserNumber"})]}),Object(O.jsxs)("table",{id:"rankingTable",className:"table-auto w-full border-collapse border border-black mt-4",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"bg-blue-200",children:[Object(O.jsx)("th",{children:"Logo"}),Object(O.jsx)("th",{children:"CompanyName"}),Object(O.jsx)("th",{children:"Ticker"}),Object(O.jsx)("th",{style:{cursor:"pointer"},className:"count"===k?"bg-yellow-200":"",onClick:function(){if(w("count"),o===N.ASC){d(N.DESC);var e=a.sort((function(e,t){return t.count-e.count}));s(e)}else{d(N.ASC);var t=a.sort((function(e,t){return e.count-t.count}));s(t)}},children:"Count "+(o===N.ASC?"\u2193":"\u2191")}),Object(O.jsx)("th",{style:{cursor:"pointer"},className:"userNumber"===k?"bg-yellow-200":"",onClick:function(){if(w("userNumber"),h===N.ASC){x(N.DESC);var e=a.sort((function(e,t){return t.userNumber-e.userNumber}));s(e)}else{x(N.ASC);var t=a.sort((function(e,t){return e.userNumber-t.userNumber}));s(t)}},children:"UserNumber "+(h===N.ASC?"\u2193":"\u2191")})]})}),Object(O.jsx)("tbody",{children:a.map((function(e){return Object(O.jsx)(K,{ranking:e})}))})]})]})},J=function(e){var t=e.isAdmin,c=e.userObj;return Object(O.jsx)(i.a,{children:t?Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{exact:!0,path:"/",children:Object(O.jsx)(C,{})}),Object(O.jsx)(j.a,{exact:!0,path:"/user/detail",children:Object(O.jsx)(R,{})}),Object(O.jsx)(j.a,{exact:!0,path:"/stock/ranking",children:Object(O.jsx)(B,{userObj:c})}),Object(O.jsx)(j.a,{render:function(){return Object(O.jsx)("div",{children:"Page Not Found"})}})]}):Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{exact:!0,path:"/",children:Object(O.jsx)(h,{userObj:c})}),Object(O.jsx)(j.a,{render:function(){return Object(O.jsx)("div",{children:"Page Not Found"})}})]})})};var z=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!1),s=Object(l.a)(a,2),i=s[0],j=s[1],d=Object(n.useState)(null),b=Object(l.a)(d,2),u=b[0],h=b[1];Object(n.useEffect)((function(){var e=Object(o.b)();Object(o.c)(e,(function(e){e?(h(e),x(e)):h(null),r(!0)}))}),[]);var x=function(e){G(e.email)?j(!0):j(!1)};return Object(O.jsx)("div",{children:c?Object(O.jsx)(J,{isAdmin:i,userObj:u}):"Initializing..."})};c(64);s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(z,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.44ecf0a1.chunk.js.map